{% extends "layout.html" %}

{% block title %}
    Change password
{% endblock %}

{% block main %}
    <form action="/changePassword" method="post">
        <div class="form-group">
            <input class="form-control" id="oldPassword" name="oldPassword" placeholder="Password" type="password" onkeyup = "validateForm();" required>
        </div>
        <div class="form-group">
            <input class="form-control" id="newPassword" name="newPassword" placeholder="New password" type="password" onkeyup = "validateForm();" required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one  number and one uppercase and lowercase letter, and at least 8 or more characters">
        </div>
        <div class="form-group">
            <input class="form-control" id="confirmation" name="confirmation" placeholder="Confirm new password" type="password" onkeyup = "validateForm();" required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one  number and one uppercase and lowercase letter, and at least 8 or more characters">
        </div>
        <button id="submit" class="btn btn-primary" type="submit" disabled onsubmit="validatePassword();">Change password</button>
    </form>
    <script>
         function validateForm() {
            console.log("runing");
            if ((document.querySelector('#oldPassword').value === '') || (document.querySelector('#newPassword').value === '') || (document.querySelector('#confirmation').value === '')) {
                document.querySelector('#submit').disabled = true;
            } else {
                document.querySelector('#submit').disabled = false;
            }
        }

        function validatePassword() {

            console.log("TODO");
            return 0;
        }
    </script>
{% endblock %}
